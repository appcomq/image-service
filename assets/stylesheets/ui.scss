$fa-font-path: "/lily/fonts";

@import "assets/lily/css/lily.scss";

@font-face {
  font-family: 'Futura-Condensed';
  src: url('/futura/Futura-Condensed.eot');
  src: local('â˜º'), 
    url('/futura/Futura-Condensed.woff') format('woff'), 
    url('/futura/Futura-Condensed.ttf') format('truetype'), 
    url('/futura/Futura-Condensed.svg') format('svg');
  font-weight: normal;
  font-style: normal;
}

@mixin default-transition {
  @include transition(all .3s);
}

@mixin default-box-shadow {
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.4);
}


html {
  overflow-y: scroll;
}

body {
  background-color:#f7f7f7;
  a {outline:0;}
}

.page-index {
  .base-info {
    @include default-transition;

    .logo {
      @include default-transition;
      padding:0 20px;
      font-family: "Futura-Condensed";
      font-size: 128px;
      font-weight: bold;
      span.a {color: #555;}
      span.b {color: #7DB500;}
      height:180px;line-height:180px;
      position:relative;

      text-align: center;
      margin-top: 50px;
      margin-bottom: 20px;
    }

    .usage {
      $c:rgba(white, 0.8);
      background-color:$c;
      padding:20px;
      color: $black-50;
      border-radius:$border-radius-default * 5;
      font-size:16px;
      margin-bottom:50px;
      position:relative;
      &:before {
        content:"";
        border:solid 20px transparent;
        border-bottom:solid 20px $c;
        position:absolute;
        top:-40px;
        left:60px;
      }
    }

    form.upload {display:none;}

    .ops {
      $w:80px;
      
      position:relative;
      left:50%;
      margin-left: - $w * 2.5 / 2;

      a.op {
        @include unselectable;
        @include default-transition;
        outline:0 none !important;

        display:block;
        width:$w;height:$w;
        background-color:#eee;
        color:rgba(black, 0.3);
        text-align:center;
        font-size:$w * 0.5;
        border-radius: $w * 2;
        position:relative;

        float:left;
        margin-right:$w/2;

        i {width:$w;height:$w;line-height:$w;}
        @include default-transition;
        &:hover {background-color: lighten($area-warning, 25%);}
      }

      a.op.btn-upload {
        &:before {
          @include default-transition;
          $bw:3px;
          $pw:8px;
          content:"";
          position:absolute;
          border:dashed $bw #ddd;
          width:$w;height:$w;
          padding:$pw;
          left:- $bw - $pw;
          top:- $bw - $pw;
          border-radius:100px;
        }
        &:hover:before {
          border-color: darken(#FFCC3F, 25%);
        }
      }
    }
  }

  .uploading-list {
    @include default-transition;

    margin-top: 90px + 50px + 20px;
    min-height: 300px;
    opacity:0;
    margin-bottom:100px;

    .uploading {
      &.template {
        display:none;
        pointer-events:none;
      }

      background-color: #f1f1f1;
      @include clearfix;
      border-radius: $border-radius-default;
      padding:15px;
      margin-bottom:15px;
      position:relative;

      a.image {
        display: block;
        width:150px;
        height:150px;
        position: relative;
        float:left;
        box-sizing:border-box;
        border-radius:2px;
        background-color:#fff;
        box-shadow:3px 3px 0 rgba(black, 0.1);

        .ibox {
          position:absolute;
          top:4px;left:4px;bottom:4px;right:4px;
          overflow:hidden;
          img {
            display:block;
            width:142px;height:142px;
            @include default-transition;
          }
        }

        i {
          @include default-transition;
          opacity:0;
          position:absolute;
          top:25px;left:25px;bottom:25px;right:25px;
          height:100px;line-height:100px;
          font-size:60px;
          color:$black-40;
          pointer-events:none;
        }
        

        &:hover {
          img {
            @include transform(scale(1.2));
          }
        }
      }

      .info {
        margin-left: 165px;
        .filename {
          font-family: $font-family-monospace;
          font-size:16px;font-weight:bold;
          height:30px;line-height:30px;
          margin-bottom:10px;
          white-space: nowrap;
          overflow:hidden;
        }

        .field {
          @include default-transition;
          position:relative;
          margin-bottom:10px;
          &:last-child {margin-bottom: 0;}
          label {
            position:absolute;
            font-size:12px;
            background-color:#f1f1f1;
            height:20px;line-height:20px;
            width:40px;
            top:5px;left:5px;
            text-align:center;
            color:$black-40;
            font-weight:bold;
            pointer-events:none;
            border-radius:2px;
          }

          input.url {
            display:block;
            box-sizing:border-box;
            width:100%;
            padding:0;margin:0;border:0 none;
            background-color:white;
            height:30px;line-height:30px;
            font-size:14px;
            padding:0 10px 0 50px;
            border-radius:$border-radius-default;
            font-family:$font-family-monospace;
            &:hover {
              
            }
          }
        }
      }

      .close {
        $w:24px;
        position:absolute;
        width:$w;height:$w;line-height:$w;
        text-align:center;
        font-size:15px;
        background-color:$black-40;
        color:white;
        top:-$w/2;right:-$w/2;
        border-radius:100px;
        cursor:pointer;
        &:hover {
          background-color:$black-60
        }
      }

      &.running {
        .field {opacity:0;pointer-events:none;}
        a.image {
          .ibox {display:none;}
          i {opacity:1;}
        }
      }

    }
  }

  &.uploading {
    .logo {
      font-size: 128px * 2/4;
      height:180px * 2/4;
      line-height:180px * 2/4;
      text-align:left;
      top:-20px;
    }

    .base-info {
      left:0;
    }
    .uploading-list {
      opacity:1;
      left:0;
    }
  }
}

body.drag-over {
  background-color:$area-dawn;
  .page-index .ops a.op.btn-upload {
    background-color: lighten($area-warning, 25%);
    &:before {border-color: darken(#FFCC3F, 25%);}
  }
}



// images
.page-images {
  position: fixed;
  left:0;right:0;top:0;bottom:0;
  background-color:$black-80;

  .images {
    @include default-transition;
    @include clearfix;
    position:relative;
    left:0;top:0;

    .image {
      @include default-transition;
      background-color:#666;
      position:absolute;
      overflow:hidden;

      img {
        @include transition(all .5s ease);
        width:100%;height:100%;display:block;
        cursor:pointer;

        &:hover {
          // @include transform(scale(1.2));
        }

        &.loading {
          opacity: 0;
        }
      }
    }

    &.show-detail {
      .image {opacity:0;pointer-events:none;}
      .image.show-detail {
        opacity:1;
        position: fixed;
      }
    }
  }
}